<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TOP Project - Rock-Paper-Scissors</title>
    <script>
      let computerSelection;
      let playerSelection;

      // Random computer choice eg. rock, paper, scissors

      function getComputerChoice(min, max) {
        computerSelection = Math.floor(Math.random() * (max - min + 1) + min);

        // Computer Selection to console
        switch (computerSelection) {
          case 1:
            console.log("Computer chose: Rock!");
            return computerSelection;
            break;

          case 2:
            console.log("Computer chose: Paper!");
            return computerSelection;
            break;

          case 3:
            console.log("Computer chose: Scissors!");
            return computerSelection;
            break;
          default:
            console.log("Error selecting computer choice.");
        }
      }
      // Prompt user Rock, Paper. Scissors selection

      function getPlayerChoice() {
        playerSelection = +prompt(
          "Select choice:\n1 - Rock \n2 - Paper \n3 - Scissors"
        );
        switch (playerSelection) {
          case 1:
            console.log("You chose Rock!");
            // Convert to number before returning
            return playerSelection;
            break;

          case 2:
            console.log("You chose Paper!");
            return playerSelection;
            break;

          case 3:
            console.log("You chose Scissors!");
            return playerSelection;
            break;

          default:
            // No selection made or wrong selection, alert user
            if (playerSelection === 0) {
              alert("Exiting game, reload to try again");
            } else {
              alert("Please select either 1, 2, 3");
              getPlayerChoice();
            }
        }
      }

      // Play a round
      function playOneRound(playerSelection, computerSelection) {
        // Round is a tie display result to console
        if (
          (playerSelection === 1 && computerSelection === 1) ||
          (playerSelection === 2 && computerSelection === 2) ||
          (playerSelection === 3 && computerSelection === 3)
        ) {
          console.log("Tie!");
        }
      }

      // Call function to get player and computer choice
      getPlayerChoice();
      // If player exits game then don't get computer function
      if (playerSelection !== 0) {
        getComputerChoice(1, 3);
      }

      playOneRound(playerSelection, computerSelection);
    </script>
  </head>
  <body></body>
</html>
